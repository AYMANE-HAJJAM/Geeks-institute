<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //1st daily challenge:
        function makeAllCaps(words) {
            return new Promise((resolve, reject) => {
                if (words.every(word => typeof word === 'string')) {
                    const uppercasedWords = words.map(word => word.toUpperCase());
                    resolve(uppercasedWords);
                } else {
                    reject("Error: Not all items in the array are strings!");
                }
            });
        }
        function sortWords(words) {
            return new Promise((resolve, reject) => {
                if (words.length > 4) {
                    const sortedWords = words.sort();
                    resolve(sortedWords);
                } else {
                    reject("Error: Array length is less than or equal to 4!");
                }
            });
        }
        //in this example, the catch method is executed, because the array contains a number
        makeAllCaps([1, "pear", "banana"])
            .then((arr) => sortWords(arr))
            .then((result) => console.log(result))
            .catch(error => console.log(error))

        //in this example, the catch method is executed, because the array length is not bigger than 4
        makeAllCaps(["apple", "pear", "banana"])
            .then((arr) => sortWords(arr))
            .then((result) => console.log(result))
            .catch(error => console.log(error))

        //in this example, you should see in the console, 
        // the array of words uppercased and sorted
        makeAllCaps(["apple", "pear", "banana", "melon", "kiwi"])
            .then((arr) => sortWords(arr))
            .then((result) => console.log(result)) //["APPLE","BANANA", "KIWI", "MELON", "PEAR"]
            .catch(error => console.log(error))

        //2nd daily challenge:
        const morse = `{
                        "0": "-----",
                        "1": ".----",
                        "2": "..---",
                        "3": "...--",
                        "4": "....-",
                        "5": ".....",
                        "6": "-....",
                        "7": "--...",
                        "8": "---..",
                        "9": "----.",
                        "a": ".-",
                        "b": "-...",
                        "c": "-.-.",
                        "d": "-..",
                        "e": ".",
                        "f": "..-.",
                        "g": "--.",
                        "h": "....",
                        "i": "..",
                        "j": ".---",
                        "k": "-.-",
                        "l": ".-..",
                        "m": "--",
                        "n": "-.",
                        "o": "---",
                        "p": ".--.",
                        "q": "--.-",
                        "r": ".-.",
                        "s": "...",
                        "t": "-",
                        "u": "..-",
                        "v": "...-",
                        "w": ".--",
                        "x": "-..-",
                        "y": "-.--",
                        "z": "--..",
                        ".": ".-.-.-",
                        ",": "--..--",
                        "?": "..--..",
                        "!": "-.-.--",
                        "-": "-....-",
                        "/": "-..-.",
                        "@": ".--.-.",
                        "(": "-.--.",
                        ")": "-.--.-"
                        }`

        function toJs() {
            return new Promise((resolve, reject) => {
                try {
                    const jsonString = JSON.parse(morse);
                    if (Object.keys(jsonString).length === 0) {
                        reject("Error: The object is empty");
                    } else {
                        resolve(jsonString);
                    }
                } catch (error) {
                    reject("Error: Could not convert to JSON string");
                }
            });
        }
        function toMorse(morseJS) {
            return new Promise((resolve, reject) => {
                const userInput = prompt("Enter a word or sentence:");
                const lowerCasedInput = userInput.toLowerCase();
                const inputArray = lowerCasedInput.split("");
                const morseTranslation = [];
                for (let char of inputArray) {
                    if (morseJS[char]) {
                        morseTranslation.push(morseJS[char]);
                    } else if (char === " ") {
                        morseTranslation.push(" / "); // Using " / " to represent space between words in Morse code
                    } else {
                        reject(`Error: Character "${char}" cannot be translated to Morse code`);
                        return;
                    }
                }
                resolve(morseTranslation);
            });

        }

        function joinWords(morseTranslation) {
            const result = morseTranslation.join("\n");
            const pre = document.createElement("pre");
            pre.textContent = result;
            document.body.appendChild(pre);
        }

        toJs()
            .then(morseJS => toMorse(morseJS))
            .then(morseTranslation => joinWords(morseTranslation))
            .catch(error => alert(error))

    </script>
</body>

</html>