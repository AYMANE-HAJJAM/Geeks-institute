<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px;
        }

        .logo {
            width: 220px;
            margin-bottom: 20px;
        }

        /* Pokedex background */
        .pokedex {
            position: relative;
            width: 700px;
            height: 450px;
            background: url("./images/pokedex.png") no-repeat center/contain;
        }

        /* Pokémon screen */
        .screen {
            position: absolute;
            top: 30px;
            left: 260px;
            width: 180px;
            height: 160px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
        }

        .screen img {
            width: 120px;
            height: 120px;
        }

        /* Info panel */
        .info {
            position: absolute;
            bottom: 30px;
            left: 230px;
            width: 220px;
            height: 160px;
            font-size: 14px;
            padding: 10px;
            text-align: center;
        }

        /* Green button overlay */
        .green-btn {
            position: absolute;
            bottom: 85px;
            right: 95px;
            width: 60px;
            height: 50px;
            border-radius: 50%;
            background: transparent;
            /* invisible, but clickable */
            border: none;
            cursor: pointer;
        }

        /* Left/Right button overlays */
        .left-btn,
        .right-btn {
            position: absolute;
            bottom: 85px;
            left: 120px;
            width: 40px;
            height: 40px;
            background: transparent;
            border: none;
            cursor: pointer;
        }

        .right-btn {
            left: 180px;
        }
    </style>
</head>

<body>
    <!-- Logo -->
    <img src="./images/logo.png" alt="Pokemon Logo" class="logo">

    <!-- Pokedex container with background -->
    <div class="pokedex">
        <!-- Screen area for Pokémon -->
        <div class="screen">
            <img id="pokemonImage" src="" alt="Pokemon">
        </div>

        <!-- Info card -->
        <div class="info">
            <h2 id="pokemonName">Pikachu</h2>
            <p id="pokemonId">Pokemon n° 25</p>
            <p id="pokemonHeight">Height: 4cm</p>
            <p id="pokemonWeight">Weight: 60gr</p>
            <p id="pokemonType">Type: electric</p>
        </div>

        <!-- Invisible overlay buttons -->
        <button id="randomBtn" class="green-btn"></button>
        <button id="prevBtn" class="left-btn"></button>
        <button id="nextBtn" class="right-btn"></button>
    </div>

    <!-- Instructions -->
    <div class="instructions">
        <h3>How to use:</h3>
        <p>1- Press the <b style="color:green;">green</b> button to get a random Pokémon</p>
        <p>2- Press the <b>left</b> and <b>right</b> buttons to see previous and next Pokémon.</p>
    </div>

    <script>
        const pokemonImage = document.getElementById("pokemonImage");
        const pokemonName = document.getElementById("pokemonName");
        const pokemonId = document.getElementById("pokemonId");
        const pokemonHeight = document.getElementById("pokemonHeight");
        const pokemonWeight = document.getElementById("pokemonWeight");
        const pokemonType = document.getElementById("pokemonType");

        const randomBtn = document.getElementById("randomBtn");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");

        let currentPokemonId = 25; // start with Pikachu

        async function fetchPokemon(id) {
            try {
                pokemonName.textContent = "Loading...";
                pokemonImage.src = "";
                const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
                if (!response.ok) throw new Error("Not found!");
                const data = await response.json();

                pokemonImage.src = data.sprites.front_default;
                pokemonName.textContent = data.name.charAt(0).toUpperCase() + data.name.slice(1);
                pokemonId.textContent = `Pokemon n° ${data.id}`;
                pokemonHeight.textContent = `Height: ${data.height}`;
                pokemonWeight.textContent = `Weight: ${data.weight}`;
                pokemonType.textContent = `Type: ${data.types.map(t => t.type.name).join(", ")}`;

                currentPokemonId = data.id;
            } catch (error) {
                pokemonName.textContent = "Oh no! That Pokemon isn’t available…";
                pokemonImage.src = "";
            }
        }

        // Buttons
        randomBtn.addEventListener("click", () => {
            let randomId = Math.floor(Math.random() * 898) + 1;
            fetchPokemon(randomId);
        });

        nextBtn.addEventListener("click", () => fetchPokemon(currentPokemonId + 1));
        prevBtn.addEventListener("click", () => {
            if (currentPokemonId > 1) fetchPokemon(currentPokemonId - 1);
        });

        // Load default
        fetchPokemon(currentPokemonId);
    </script>
</body>

</html>