<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starfield - Star Wars Characters</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link href="https://fonts.cdnfonts.com/css/sega-logo-font" rel="stylesheet">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
            color: yellow;
            font-family: Arial, sans-serif;
        }

        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #controls {
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 40px;
        }

        .star-wars-logo {
            font-family: 'SEGA LOGO FONT', sans-serif;
            font-size: 70px;
            color: #ffe81f;
            text-shadow:
                -3px -3px 0 #000,
                3px -3px 0 #000,
                -3px 3px 0 #000,
                3px 3px 0 #000,
                0 0 10px #ffe81f;
            letter-spacing: 8px;
            margin-bottom: 30px;
            margin-top: 10px;
            border: none;
            text-align: center;
        }

        .star-wars-logo span {
            display: block;
        }

        #info {
            border: 3px solid #ffe81f;
            border-radius: 25px;
            padding: 25px 10px 25px 10px;
            margin-bottom: 25px;
            width: 420px;
            min-height: 180px;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            font-size: 20px;
            box-sizing: border-box;
        }

        #info h2 {
            margin: 0 0 15px 0;
            font-size: 32px;
            color: #fff;
            font-weight: bold;
        }

        #info p {
            margin: 8px 0;
            color: #fff;
            font-size: 20px;
        }

        #findsomeone {
            border: 1px solid rgb(236, 233, 40);
            background: rgb(254, 254, 254);
            color: rgb(6, 5, 5);
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 10px;
            font-weight: bold;
            font-size: 22px;
            width: 200px;
            margin-top: 10px;
        }

        #findsomeone:hover {
            background: rgb(254, 254, 254);
            border: 2px solid yellow;
            border-radius: 10px;
            color: black;
        }
    </style>
</head>

<body>
    <canvas id="starfield"></canvas>

    <div id="controls">
        <div class="star-wars-logo">
            <span>STAR</span>
            <span>WARS</span>
        </div>
        <section id="info"></section>
        <button id="findsomeone">Find Someone</button>
    </div>

    <script>
        // Starfield animation
        const canvas = document.getElementById("starfield");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const stars = [];
        for (let i = 0; i < 200; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 2,
                speed: Math.random() * 1 + 0.5
            });
        }

        function animate() {
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = "white";
            stars.forEach(star => {
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                ctx.fill();

                star.y += star.speed;
                if (star.y > canvas.height) {
                    star.y = 0;
                    star.x = Math.random() * canvas.width;
                }
            });

            requestAnimationFrame(animate);
        }
        animate();

        // Fetch Star Wars character
        const info = document.getElementById("info");
        const btn = document.getElementById("findsomeone");

        btn.addEventListener("click", () => {
            async function fetchData() {
                try {
                    info.innerHTML = `<p><i class="fas fa-spinner fa-spin"></i> Loading...</p>`;

                    const id = Math.floor(Math.random() * 83) + 1;
                    const response = await fetch(`https://www.swapi.tech/api/people/${id}`);
                    const data = await response.json();
                    const character = data.result.properties;

                    // Fetch homeworld
                    const homeworldResponse = await fetch(character.homeworld);
                    const homeworldData = await homeworldResponse.json();
                    const homeworldName = homeworldData.result.properties.name;

                    info.innerHTML = `
            <h2>${character.name}</h2>
            <p><strong>Height:</strong> ${character.height}</p>
            <p><strong>Gender:</strong> ${character.gender}</p>
            <p><strong>Birth Year:</strong> ${character.birth_year}</p>
            <p><strong>Homeworld:</strong> ${homeworldName}</p>
          `;
                }
                catch (error) {
                    info.innerHTML = "<p>Oh no! That person is not available.</p>";
                }
            }
            fetchData();
        });
    </script>
</body>

</html>